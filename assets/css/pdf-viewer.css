/* =====================================================
   PDF Viewer UI — pdf-viewer.css (Light / NU Blue theme)
   For Walk-in Exam System by Jisoo
   ===================================================== */

:root{
  --bg:#eef2ff;
  --card:#ffffff;
  --border:#e5e7eb;
  --text:#0f172a;
  --muted:#64748b;
  --brand:#2563eb;
  --brand-600:#1d4ed8;
  --radius:14px;
  --focus:0 0 0 3px rgba(37,99,235,.25);
  --font:"Inter","Sarabun",system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue","Noto Sans Thai",sans-serif;
}

/* ---------- Page Shell ---------- */
.pv-body{background:var(--bg);color:var(--text);font-family:var(--font);}
.pv-shell{display:flex;flex-direction:column;height:100dvh;}

/* ---------- Toolbar ---------- */
.pv-topbar{
  position:sticky;top:0;z-index:30;
  background:var(--card);
  border-bottom:1px solid var(--border);
  padding:10px 14px;
  display:flex;align-items:center;justify-content:space-between;gap:8px;
  box-shadow:0 2px 0 rgba(0,0,0,0.02);
}
.pv-left,.pv-right{display:flex;align-items:center;gap:8px;flex-wrap:wrap;}
.pv-toolbar .btn{
  border:1px solid var(--border);
  background:var(--card);
  color:var(--text);
  border-radius:10px;
  padding:8px 10px;
  cursor:pointer;
  display:inline-flex;align-items:center;gap:8px;
  font:500 14px/1 var(--font);
  transition:.15s;
}
.pv-toolbar .btn:hover{background:#f8faff;border-color:#dbeafe;}
.pv-toolbar .btn:active{transform:translateY(1px);}
.pv-toolbar .btn:focus-visible{outline:none;box-shadow:var(--focus);}
.pv-toolbar .btn i{font-size:14px;}
.pill{
  display:inline-flex;align-items:center;gap:8px;
  border:1px solid var(--border);
  border-radius:999px;
  padding:6px 10px;
  background:#f1f5ff;
  color:var(--muted);
  font:600 13px/1 var(--font);
  white-space:nowrap;
}

/* ---------- Main ---------- */
.pv-main{display:flex;gap:14px;padding:12px;min-height:0;flex:1;}
.pv-view{
  flex:1;min-width:0;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:0 8px 24px rgba(2,6,23,.06);
  display:flex;flex-direction:column;
}

/* ---------- Canvas area ---------- */
.pv-canvas-wrap{
  position:relative;overflow:auto;flex:1;
  padding:16px;
  background:#f6f8ff;
  border-bottom-left-radius:var(--radius);
  border-bottom-right-radius:var(--radius);
}
.pv-canvas{display:block;margin:0 auto;background:#fff;box-shadow:0 4px 18px rgba(0,0,0,.06);border-radius:6px;}

/* ---------- pdf.js textLayer ---------- */
.textLayer{
  position:absolute;
  left:0;top:0;width:0;height:0;
  pointer-events:none;
  contain:strict;
  mix-blend-mode:multiply;
  --scale-factor:1;
}
.textLayer span{color:transparent!important;text-shadow:none!important;}

/* ---------- Highlight while reading ---------- */
.tts-highlight{
  background:rgba(255,225,67,.45)!important; /* yellow pen style */
  border-radius:4px;
  box-shadow:0 0 0 2px rgba(255,225,67,.2);
}

/* ---------- Bottom controls ---------- */
.pv-ctrls{
  display:flex;align-items:center;gap:10px;
  padding:10px 12px;
  border-top:1px solid var(--border);
  background:var(--card);
  border-bottom-left-radius:var(--radius);
  border-bottom-right-radius:var(--radius);
}
.pv-ctrls .btn{
  border:1px solid var(--border);
  background:var(--card);
  border-radius:10px;
  padding:8px 10px;
  font:600 14px/1 var(--font);
  cursor:pointer;
  display:inline-flex;align-items:center;gap:8px;
  transition:.15s;
}
.pv-ctrls .btn:hover{background:#f1f5ff;border-color:#dbeafe;}
.pv-ctrls .btn i{font-size:14px;}
.pv-ctrls .pill input[type="range"]{
  appearance:none;height:6px;width:140px;border-radius:999px;
  background:linear-gradient(90deg,var(--brand),var(--brand-600));
  outline:none;opacity:.9;
}
.pv-ctrls .pill input[type="range"]::-webkit-slider-thumb{
  appearance:none;width:16px;height:16px;border-radius:50%;
  background:var(--card);border:2px solid var(--brand-600);
  box-shadow:0 1px 3px rgba(0,0,0,.15);cursor:pointer;
}
.pv-ctrls .pill select{
  appearance:none;border:none;background:transparent;color:inherit;
  font:600 13px/1 var(--font);outline:none;
}

/* ---------- Responsive ---------- */
@media (max-width:720px){
  .pv-main{padding:8px;gap:10px;}
  .pv-ctrls{flex-wrap:wrap;gap:8px;}
  .pv-ctrls .pill input[type="range"]{width:120px;}
  .pv-toolbar .btn span{display:none;}
}
@media (max-width:420px){
  .pv-ctrls .pill input[type="range"]{width:100px;}
}

/* ---------- Fullscreen: ใช้ปุ่มเดิม (ไม่ซ่อน) ---------- */
/* ตรึงทูลบาร์ไว้ด้านบน */
:fullscreen .pv-topbar{
  position:fixed; top:0; left:0; right:0; z-index:1000; border-radius:0;
  /* กันรอยบากมือถือ */
  padding-top: calc(10px + env(safe-area-inset-top));
}

/* ตรึงแถบควบคุม TTS ไว้ด้านล่าง */
:fullscreen .pv-ctrls{
  position:fixed; left:0; right:0; bottom:0; z-index:1000; border-radius:0;
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
  border-top:1px solid var(--border);
  background: var(--card);
}

/* เผื่อพื้นที่ให้แถบบน/ล่าง ไม่ทับเนื้อหา */
:fullscreen .pv-main{
  padding-top:56px;                 /* ความสูงทูลบาร์ ~56px */
  padding-bottom:58px;              /* ความสูงแถบควบคุม ~58px */
}

/* ให้พื้นที่แสดงเต็มขอบขณะ Fullscreen */
:fullscreen .pv-canvas-wrap{ padding:0; }
